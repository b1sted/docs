---
title: "Лекция 7: Управляющие инструкции языка"
description: "Управляющие инструкции языка Си: подробное описание операторов выбора, циклов и переходов, включая if, switch, for, while, break, continue и рекомендации по использованию для улучшения качества кода."
---

> "Определенно, что-то есть в его словах. Например, буквы. :thinking_face:"

***

### Введение

Управляющие операторы языка Си предназначены для выполнения действий и управления ходом выполнения программы. Несколько последовательных операторов образуют **последовательность операторов**. 

**Пустой оператор** — простейшая конструкция, представляющая пустое выражение, записывается как `;`.

**Инструкция** — элементарное действие, записываемое в виде `(выражение);`.  
**Блок инструкций** — последовательность операторов, заключённая в `{ }`. Он может использоваться в функциях, циклах и условных конструкциях.

***

## Классификация инструкций языка Си

Инструкции в языке Си делятся на:

- **Помеченные инструкции**
- **Инструкции-выражения**
- **Составные инструкции**
- **Инструкции выбора**
- **Циклические инструкции**
- **Инструкции перехода**

***

## Инструкции выбора (if, switch)

### Условный оператор `if`

Задача условного оператора — изменить порядок выполнения программы в зависимости от условия.  

**Форма записи**:
```c
if (выражение) оператор1;
else оператор2;
```

**Пример использования:**

```c
if (a > b)
    max = a;
else
    max = b;
```

Однако при добавлении новых условий с помощью `if-else` логика ветвления может значительно усложняться, что приведет к ухудшению читаемости и модификации кода. Если в коде слишком много условных операторов, сложнее отслеживать логику программы и вносить изменения. Это также может привести к дублированию кода.

### Тернарный оператор

**Тернарный оператор** — компактная форма условного оператора:

```c
c = (a > b) ? a : b;
```

Это выражение присваивает значение `a`, если условие `(a > b)` истинно, или `b`, если оно ложно. Тернарный оператор полезен в ситуациях, когда нужно присвоить значение переменной в зависимости от условия. В таких случаях он намного более удобен и читаем, чем длинная конструкция `if-else`.

### Инструкция `switch`

Оператор `switch` организует выбор из нескольких альтернатив. В отличие от `if-else`, оператор `switch` применяется, когда имеется фиксированное число возможных вариантов.

**Форма записи**:

```c
switch (выражение) {
    case значение1:
        операторы;
        break;
    case значение2:
        операторы;
        break;
    default:
        операторы;
}
```

Важно использовать `break`, чтобы избежать "провалов" — перехода выполнения к следующему `case`. Без `break` выполнение продолжится в следующий `case`, что может быть неожиданным.

***

## Операторы цикла

**Циклы** — это конструкции, которые организуют повторение кода.

В языке Си доступны следующие виды циклов:

* **Цикл с предусловием `while`**:

```c
while (условие)
    операторы;
```

* **Цикл с постусловием `do while`**:

```c
do {
    операторы;
} while (условие);
```

* **Цикл с параметром `for`**:

```c
for (инициализация; условие; модификация)
    операторы;
```

Цикл `for` подходит, когда заранее известно количество итераций, в то время как `while` и `do-while` чаще используются, когда условие продолжения цикла зависит от внешних факторов.

**Пример цикла с параметром `for`**:

```c
for (int i = 0; i < n; i++) {
    printf("%d\n", i);
}
```

***

## Операторы перехода и возврата

### Оператор `goto`

Используется для безусловного перехода к метке:

```c
goto метка;
...
метка:
    операторы;
```

Хотя `goto` редко используется, он может быть полезен для выхода из многократно вложенных циклов или условий, где использование других операторов, таких как `break` или `continue`, не подходит.

### Оператор `break`

Прерывает выполнение текущего цикла или инструкции `switch`.

**Пример**:

```c
while (1) {
    if (условие) {
        break; // Прерывание цикла
    }
}
```

### Оператор `continue`

Пропускает оставшуюся часть текущей итерации и переходит к следующей.

**Пример**:

```c
for (int i = 0; i < n; i++) {
    if (i % 2 == 0)
        continue; // Переход к следующей итерации
    printf("%d\n", i);  // Выполнится только для нечетных чисел
}
```

### Оператор `return`

Завершает выполнение функции и возвращает значение:

```c
return выражение;
```

Оператор `return` используется для завершения работы функции и передачи результата, если функция ожидает возвращаемое значение.

***

## Лучшие практики программирования

1. Выражение в операторе `switch` и значения `case` должны быть целочисленными или символьными.
2. Используйте ветвь `default` в операторе `switch`, чтобы предусмотреть необработанные случаи.
3. Для упрощения понимания кода объединяйте несколько операторов в блоки с помощью `{ }`.
4. В циклах **обязательно предусматривать** начальные установки, модификацию параметров и условия завершения.
5. При построении бесконечного цикла **обязательно предусматривать** условие выхода из него, чтобы избежать "зависания" программы.
6. **Не используйте `goto` без необходимости**. Применяйте его для выхода из многократно вложенных структур, но избегайте его без ясной необходимости.

***

> [All of us carry trauma <br />
> And in lieu of an explanation <br />
> I will pour oil from the cup <br />
> On the pyre of abdication](https://youtu.be/Ek9eLru_YHE)